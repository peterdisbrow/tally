# Church AV Relay Server Environment Variables
# Copy to .env and fill in your values

# Required: Secret key for admin API access (generate a strong random string)
ADMIN_API_KEY=change-me-to-a-strong-random-string

# Required: Secret for signing church JWT tokens (generate a strong random string)
JWT_SECRET=change-me-to-a-different-strong-random-string

# Optional: Server port (Railway sets this automatically)
# PORT=3000

# Optional: SQLite database path
# DATABASE_PATH=./data/churches.db

# Optional: credential-login token TTL (default: 30d)
# TALLY_CHURCH_APP_TOKEN_TTL=30d

# Optional: require active/trialing billing before church clients can connect
# Defaults to true in production, false in local/dev.
# TALLY_REQUIRE_ACTIVE_BILLING=true

# ─── Telegram Bot (TD Interface) ───────────────────
# Create a bot via @BotFather on Telegram, paste the token here
TALLY_BOT_TOKEN=

# Telegram webhook endpoint (public URL)
# Public URL of your relay server + /api/telegram-webhook
# e.g., https://tally-relay.up.railway.app/api/telegram-webhook
TALLY_BOT_WEBHOOK_URL=

# Optional: secret token to verify Telegram webhooks (x-telegram-bot-api-secret-token)
TALLY_BOT_WEBHOOK_SECRET=

# Andrew's personal Telegram chat ID (admin access — can control any church)
ANDREW_TELEGRAM_CHAT_ID=
ALLOWED_ORIGINS=https://tally.atemschool.com,https://your-dashboard-domain.com

# ─── Stripe Billing ───────────────────────────────────────────────────────────
# Get these from dashboard.stripe.com
STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Price IDs from your Stripe dashboard (Products → Prices)
STRIPE_PRICE_CONNECT=price_...
STRIPE_PRICE_PRO=price_...
STRIPE_PRICE_MANAGED=price_...
STRIPE_PRICE_EVENT=price_...

# Your app's public URL (for redirect URLs)
APP_URL=https://tally-relay.up.railway.app
